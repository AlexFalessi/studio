<!doctype html>
<html>
    <head>
        <title>ProActive Workflow Studio</title>
        <meta http-equiv="content-type" content="text/html;charset=utf-8" />
        <link rel="shortcut icon" href="img/favicon.ico">

        <script src="js/jquery-1.9.0.js"></script>
        <script src="js/jquery-ui-1.9.2-min.js"></script>
        <script src="js/jquery.ui.touch-punch.min.js"></script>
        <script src="js/jquery.mousewheel.js"></script>
        <script type='text/javascript' src='js/jquery.jsPlumb-1.5.0.js'></script>
        <script type='text/javascript' src='js/bootstrap-3.0.3/dist/js/bootstrap.min.js'></script>

        <script type="text/javascript" src="js/syntaxhighlighter_3.0.83/scripts/shCore.js"></script>
        <script type="text/javascript" src="js/syntaxhighlighter_3.0.83/scripts/shBrushXml.js"></script>
        <script type="text/javascript" src="js/syntaxhighlighter_3.0.83/scripts/shBrushJScript.js"></script>
        <link href="js/bootstrap-3.0.3/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="js/syntaxhighlighter_3.0.83/styles/shCore.css" rel="stylesheet" type="text/css" />
        <link href="js/syntaxhighlighter_3.0.83/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="css/studio.css">

        <script src="js/vkbeautify.0.99.00.beta.js"></script>

        <script src="js/underscore-min.js"></script>
        <script src="js/backbone.js"></script>
        <script src="js/backbone-forms/backbone-forms.js"></script>
        <script src="js/backbone-forms/editors/list.js"></script>
        <script src="js/backbone-forms/adapters/backbone.bootstrap-modal.js"></script>
        <script src="js/xml2json.js"></script>
        <script src="js/dagre.min.js"></script>
        <script src="js/FileSaver.js"></script>

        <script src="js/pnotify/jquery.pnotify.js"></script>
        <link href="js/pnotify/jquery.pnotify.default.css" rel="stylesheet" type="text/css" />
        <link href="js/pnotify/jquery.pnotify.default.icons.css" rel="stylesheet" type="text/css" />

        <link rel="stylesheet" href="js/codemirror-3.20/lib/codemirror.css">
        <script src="js/codemirror-3.20/lib/codemirror.js"></script>
        <script src="js/codemirror-3.20/mode/javascript/javascript.js"></script>
        <script src="js/codemirror-3.20/addon/comment/comment.js"></script>
        <script src="js/codemirror-3.20/addon/edit/matchbrackets.js"></script>

    </head>
    <body data-library="jquery" style="zoom: 1;">

        <div class="navbar navbar-fixed-top" role="navigation">
              <div class="navbar-header">
                  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                  <a class="navbar-brand" style="vertical-align:middle"><img src="img/proactive_32.png" style="height:24px"> ProActive Studio <span class="release-status">beta</span></a>
              </div>
              <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                      <li><a id="save-button" href="#" class="pointer"><i class="glyphicon glyphicon-hdd"></i> Save</a></li>
                      <li><a id="submit-button" href="#" class="pointer"><i class="glyphicon glyphicon-share "></i> Execute</a></li>
                      <li class="divider"></li>
                      <li><a id="import-button" href="#" class="pointer"><i class="glyphicon glyphicon-import"></i> Import</a></li>
                      <li><a id="export-button" href="#" class="pointer"><i class="glyphicon glyphicon-eye-open "></i> View Source</a></li>
                      <li><a id="validate-button" href="#" class="pointer"><i class="glyphicon glyphicon-ok "></i> Check</a></li>
                      <li><a id="clear-button" href="#" class="pointer"><i class="glyphicon glyphicon-repeat "></i> Clear</a></li>
                      <li><a id="undo-button" href="#" class="pointer"><i class="glyphicon glyphicon-arrow-left "></i> Undo</a></li>
                      <li><a id="redo-button" href="#" class="pointer"><i class="glyphicon glyphicon-arrow-right "></i> Redo</a></li>
                    </ul>
                    <ul class="nav navbar-nav nav navbar-right">
                        <li id="login-view"></li>
                    </ul>
              </div>
        </div>

        <table id="body-container" style="min-width:100%;height:100%">
            <tr>
                <td style="min-width:300px;width:25%; resizable:horizontal; padding-left:10px; padding-right:10px">
                    <div id="properties-container"></div>
                </td>
                <td style="width:75%; padding-right:10px">
                    <div id="workflow-designer"></div>
                </td>
            </tr>
        </table>

        <table id="tools-table">
        <tr><td style="padding-right:20px">
        <div id="palette-container"></div>
        </td><td>
        <div id="tools-panel">
            <div class="btn-group">
              <button id="layout-button" type="button" class="btn" title="Layout"><i class="glyphicon glyphicon-align-center"></i></button>
                <!--
              <button id="zoom-reset-button" type="button" class="btn" title="Zoom in"><i class="icon-screenshot"></i></button>
              <button id="zoom-in-button" type="button" class="btn" title="Zoom in"><i class="icon-plus"></i></button>
              <button id="zoom-out-button" type="button" class="btn" title="Zoom out"><i class="icon-minus"></i></button>
              -->
            </div>
        </div>
        </td></tr>
        </table>

<input type="file" id="import-file" style="display:none"/>

<div id="scheduler-connect-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="myModalLabel">Scheduler Login Required</h3>
          </div>
          <div class="modal-body">
              <p>In order to submit jobs to the scheduler please login using your user name and password.</p>
          </div>
          <div class="modal-footer">
              <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
          </div>
        </div>
    </div>
</div>

<div id="xml-view-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="myModalLabel">Workflow XML</h3>
          </div>
          <div class="modal-body" style="height:100%">
          <div id="workflow-xml-container"></div>
          </div>
          <div class="modal-footer">
            <button id="download-xml-button" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Download</button>
            <button class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Close</button>
          </div>
        </div>
    </div>
</div>

<div id="full-edit-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" style="width:90%;height:90%">
        <div class="modal-content" style="height: 100%;">
            <table style="min-height:100%;width:100%">
                <tr><td style="height:80px">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h3>Script Editor</h3>
                        </div>
                </td></tr>
                <tr class="code-editor-container"><td style="height:99%;min-height:99%;vertical-align: top;">
                        <textarea id="full-edit-modal-script-content" class="form-control" style="width:100%;height:100%"></textarea>
                </td></tr>
                <tr><td style="height:80px">
                        <div class="modal-footer">
                            <button id="set-script-content" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Done</button>
                        </div>
                </td></tr>
            </table>
            <!--<div class="modal-body" style="height: 70%;">-->
            <!--</div>-->
        </div>
    </div>
</div>

<div id="script-save-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <label>Script name (*.groovy, *.js, *.py, *.rb):</label>
                <input data-name="name" type="text" class="form-control">
            </div>
            <div class="modal-footer">
                <button id="script-save-button" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Save</button>
            </div>
        </div>
    </div>
</div>

<script>
        var entityMap = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': '&quot;',
        "'": '&#39;',
        "/": '&#x2F;'
        };

        function escapeHtml(string) {
            return String(string).replace(/[&<>"'\/]/g, function (s) {
                return entityMap[s];
            });
        }
</script>

        <script src="js/proactive/app-config.js"></script>
        <script src="js/proactive/rest/studio-client.js"></script>
        <script src="js/proactive/template.js"></script>
        <script src="js/proactive/model/model.js"></script>
        <script src="js/proactive/view/view.js"></script>
        <script src="js/proactive/studio.js"></script>
    </body>

</html>
